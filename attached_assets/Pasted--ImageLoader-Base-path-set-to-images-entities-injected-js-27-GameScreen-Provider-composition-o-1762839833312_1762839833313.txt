[ImageLoader] Base path set to: /images/entities/
injected.js:27 [GameScreen] Provider composition order: PlayerProvider â†’ CameraProvider â†’ GameMapProvider â†’ GameProvider
injected.js:27 [GameContext] ðŸ—ï¸ CHECKING FOR EXISTING INITIALIZATION MANAGER...
injected.js:27 [GameContext] âœ… Creating NEW GameInitializationManager...
injected.js:27 [GameInitializationManager] ðŸ†” NEW INSTANCE CREATED: GameInitManager_1762839744919_mf34wpzbt
injected.js:27 [GameInitializationManager] ðŸ“Š TOTAL INSTANCES NOW ACTIVE: 1
injected.js:27 [GameContext] âœ… GameInitializationManager created: GameInitManager_1762839744919_mf34wpzbt
injected.js:27 [GameContext] ðŸ—ï¸ CHECKING FOR EXISTING INITIALIZATION MANAGER...
injected.js:27 [GameContext] ðŸ”„ HMR detected - clearing stale global instances
(anonymous) @ injected.js:27Understand this warning
injected.js:27 [GameContext] âœ… Creating NEW GameInitializationManager...
injected.js:27 [GameInitializationManager] ðŸ†” NEW INSTANCE CREATED: GameInitManager_1762839744920_tqc9s84b8
injected.js:27 [GameInitializationManager] ðŸ“Š TOTAL INSTANCES NOW ACTIVE: 1
injected.js:27 [GameContext] âœ… GameInitializationManager created: GameInitManager_1762839744920_tqc9s84b8
injected.js:27 [Container Tests] Test function exported to window.runContainerTests()
injected.js:27 [Inventory] Container tests loaded and runContainerTests() is now available
injected.js:27 [StartMenu] Starting new game...
injected.js:27 [GameScreenContent] Starting new game - initializing...
injected.js:27 [GameContext] Starting new game initialization (run 0)...
injected.js:27 [GameInitializationManager] Starting initialization sequence...
injected.js:27 [GameInitializationManager] State transition: idle â†’ preloading
injected.js:27 [GameContext] Initialization state changed to: preloading
injected.js:27 [GameScreenContent] Hiding start menu - initialization began
injected.js:27 [GameInitializationManager] ðŸ“‹ PRELOADING phase starting...
injected.js:27 [GameInitializationManager] âœ… Loaded 20 item definitions
injected.js:27 [GameInitializationManager] InventoryManager created: InventoryManagerÂ {containers: Map(1), equipment: {â€¦}, groundContainer: Container, groundManager: GroundManager}
injected.js:27 [WorldManager] Initialized
injected.js:27 [GameInitializationManager] WorldManager created
injected.js:27 [TemplateMapGenerator] Loaded 4 default templates
injected.js:27 [TemplateMapGenerator] Generated 'road' map (35x125) with 0 random walls, 0 extra floors
injected.js:27 [GameInitializationManager] Template map generated: 35 x 125
injected.js:27 [GameInitializationManager] âœ… PRELOADING complete
injected.js:27 [GameInitializationManager] State transition: preloading â†’ core_setup
injected.js:27 [GameContext] Initialization state changed to: core_setup
injected.js:27 [GameInitializationManager] Executing CORE_SETUP phase...
injected.js:27 [GameMap] Initialized 35x125 map
injected.js:27 [GameInitializationManager] GameMap created: 35 x 125
injected.js:27 [TemplateMapGenerator] Applied template map data to GameMap (35x125)
injected.js:27 [GameInitializationManager] Template applied to GameMap
injected.js:27 [GameInitializationManager] Could not get template start position, using default
(anonymous) @ injected.js:27
_executeCoreSetup @ GameInitializationManager.js:185
startInitialization @ GameInitializationManager.js:70
await in startInitialization
(anonymous) @ GameContext.jsx:360
handleStartGame @ GameScreen.tsx:92
handleNewGame @ StartMenu.tsx:19
callCallback2 @ chunk-WERSD76P.js?v=048f8252:3674
invokeGuardedCallbackDev @ chunk-WERSD76P.js?v=048f8252:3699
invokeGuardedCallback @ chunk-WERSD76P.js?v=048f8252:3733
invokeGuardedCallbackAndCatchFirstError @ chunk-WERSD76P.js?v=048f8252:3736
executeDispatch @ chunk-WERSD76P.js?v=048f8252:7014
processDispatchQueueItemsInOrder @ chunk-WERSD76P.js?v=048f8252:7034
processDispatchQueue @ chunk-WERSD76P.js?v=048f8252:7043
dispatchEventsForPlugins @ chunk-WERSD76P.js?v=048f8252:7051
(anonymous) @ chunk-WERSD76P.js?v=048f8252:7174
batchedUpdates$1 @ chunk-WERSD76P.js?v=048f8252:18913
batchedUpdates @ chunk-WERSD76P.js?v=048f8252:3579
dispatchEventForPluginEventSystem @ chunk-WERSD76P.js?v=048f8252:7173
dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay @ chunk-WERSD76P.js?v=048f8252:5478
dispatchEvent @ chunk-WERSD76P.js?v=048f8252:5472
dispatchDiscreteEvent @ chunk-WERSD76P.js?v=048f8252:5449Understand this warning
injected.js:27 [GameInitializationManager] Final start position: 17 123
injected.js:27 [Player] ðŸŽ® NEW PLAYER INSTANCE CREATED: player-1 at (17, 123)
injected.js:27 [Player] - Creation timestamp: 1762839785750
injected.js:27 [Player] ðŸ“Š TOTAL PLAYER INSTANCES CREATED: 1
injected.js:27 [GameInitializationManager] ðŸŽ® PLAYER CREATED by instance GameInitManager_1762839744919_mf34wpzbt:
injected.js:27 [GameInitializationManager] - Player ID: player-1
injected.js:27 [GameInitializationManager] - Position: (17, 123)
injected.js:27 [GameInitializationManager] - Constructor: Player
injected.js:27 [GameInitializationManager] - Instance hash: Player_player-1_1762839785750
injected.js:27 [GameInitializationManager] - HP/AP: 100/100 HP, 100/100 AP
injected.js:27 [Camera] Camera initialized with viewport: 20 x 20
injected.js:27 [Camera] World bounds set to: 35 x 125
injected.js:27 [Camera] Constraint applied: {from: '(17, 123)', to: '(17, 120)'}
injected.js:27 [Camera] Position set to: 17 123
injected.js:27 [Camera] Centered on: 17 123
injected.js:27 [GameInitializationManager] Camera initialized - bounds: 35 x 125
injected.js:27 [Tile] Entity player-1 added to tile (17, 123). Total entities: 1
injected.js:27 [GameMap] âœ… Entity added: player-1 (player) at (17, 123)
injected.js:27 [GameMap] ðŸŽ® PLAYER ADDED TO MAP - Total players now: 1
injected.js:27 [GameInitializationManager] ðŸ—ºï¸ Player added to map: SUCCESS
injected.js:27 [GameInitializationManager] - Map dimensions: 35x125
injected.js:27 [GameInitializationManager] - Total entities on map: 1
injected.js:27 [GameInitializationManager] - Player entities on map: 1
injected.js:27 [GameInitializationManager] - Player found on tile (17, 123): âœ… YES
injected.js:27 [WorldManager] *** MAP SAVED: map_001 ***
injected.js:27 [WorldManager] *** WORLD COLLECTION NOW HAS 1 MAPS ***
injected.js:27 [WorldManager] Map metadata: {width: 35, height: 125, entities: 1, type: 'road'}
injected.js:27 [GameInitializationManager] Initial map saved as: map_001
injected.js:27 [GameInitializationManager] CORE_SETUP phase completed
injected.js:27 [GameInitializationManager] State transition: core_setup â†’ world_population
injected.js:27 [GameContext] Initialization state changed to: world_population
injected.js:27 [GameInitializationManager] Executing WORLD_POPULATION phase...
injected.js:27 [GameInitializationManager] Attempting to spawn 10 zombies in lower half (y >= 62 )
injected.js:27 [Tile] Entity zombie-initial-1 added to tile (33, 90). Total entities: 1
injected.js:27 [GameMap] âœ… Entity added: zombie-initial-1 (zombie) at (33, 90)
injected.js:27 [GameInitializationManager] Spawned zombie zombie-initial-1 at ( 33 , 90 ), distance: 49
injected.js:27 [Tile] Entity zombie-initial-2 added to tile (21, 89). Total entities: 1
injected.js:27 [GameMap] âœ… Entity added: zombie-initial-2 (zombie) at (21, 89)
injected.js:27 [GameInitializationManager] Spawned zombie zombie-initial-2 at ( 21 , 89 ), distance: 38
injected.js:27 [Tile] Entity zombie-initial-3 added to tile (8, 72). Total entities: 1
injected.js:27 [GameMap] âœ… Entity added: zombie-initial-3 (zombie) at (8, 72)
injected.js:27 [GameInitializationManager] Spawned zombie zombie-initial-3 at ( 8 , 72 ), distance: 60
injected.js:27 [Tile] Entity zombie-initial-4 added to tile (5, 91). Total entities: 1
injected.js:27 [GameMap] âœ… Entity added: zombie-initial-4 (zombie) at (5, 91)
injected.js:27 [GameInitializationManager] Spawned zombie zombie-initial-4 at ( 5 , 91 ), distance: 44
injected.js:27 [Tile] Entity zombie-initial-5 added to tile (1, 66). Total entities: 1
injected.js:27 [GameMap] âœ… Entity added: zombie-initial-5 (zombie) at (1, 66)
injected.js:27 [GameInitializationManager] Spawned zombie zombie-initial-5 at ( 1 , 66 ), distance: 73
injected.js:27 [Tile] Entity zombie-initial-6 added to tile (20, 79). Total entities: 1
injected.js:27 [GameMap] âœ… Entity added: zombie-initial-6 (zombie) at (20, 79)
injected.js:27 [GameInitializationManager] Spawned zombie zombie-initial-6 at ( 20 , 79 ), distance: 47
injected.js:27 [Tile] Entity zombie-initial-7 added to tile (12, 123). Total entities: 1
injected.js:27 [GameMap] âœ… Entity added: zombie-initial-7 (zombie) at (12, 123)
injected.js:27 [GameInitializationManager] Spawned zombie zombie-initial-7 at ( 12 , 123 ), distance: 5
injected.js:27 [Tile] Entity zombie-initial-8 added to tile (16, 95). Total entities: 1
injected.js:27 [GameMap] âœ… Entity added: zombie-initial-8 (zombie) at (16, 95)
injected.js:27 [GameInitializationManager] Spawned zombie zombie-initial-8 at ( 16 , 95 ), distance: 29
injected.js:27 [Tile] Entity zombie-initial-9 added to tile (9, 88). Total entities: 1
injected.js:27 [GameMap] âœ… Entity added: zombie-initial-9 (zombie) at (9, 88)
injected.js:27 [GameInitializationManager] Spawned zombie zombie-initial-9 at ( 9 , 88 ), distance: 43
injected.js:27 [Tile] Entity zombie-initial-10 added to tile (24, 62). Total entities: 1
injected.js:27 [GameMap] âœ… Entity added: zombie-initial-10 (zombie) at (24, 62)
injected.js:27 [GameInitializationManager] Spawned zombie zombie-initial-10 at ( 24 , 62 ), distance: 68
injected.js:27 [GameInitializationManager] Spawned 10 initial zombies
injected.js:27 [GameInitializationManager] Removed south transition tile for first map
injected.js:27 [GameInitializationManager] WORLD_POPULATION phase completed
injected.js:27 [GameInitializationManager] State transition: world_population â†’ complete
injected.js:27 [GameContext] Initialization state changed to: complete
injected.js:27 [GameContext] State machine initialization completed
injected.js:27 [GameMapContext] setGameMap called with: GameMap(35x125)
injected.js:27 [GameMapContext] gameMapRef.current now: GameMap(35x125)
injected.js:27 [GameMapContext] mapVersion incremented to trigger context value update
injected.js:27 [PlayerContext] ðŸŽ® SETTING PLAYER REFERENCE (version pattern):
injected.js:27 [PlayerContext] ðŸ“¦ Player version bumped to trigger re-renders
injected.js:27 [PlayerContext] âœ… Player reference set: player-1 at (17, 123)
injected.js:27 [PlayerContext] - Player constructor: Player
injected.js:27 [PlayerContext] - HP/AP: 100/100 HP, 100/100 AP
injected.js:27 [CameraContext] setCamera called with: Camera at (17, 120)
injected.js:27 [CameraContext] cameraRef.current now: Camera at (17, 120)
injected.js:27 [CameraContext] cameraVersion incremented to trigger context value update
injected.js:27 [Camera] World bounds set to: 35 x 125
injected.js:27 [Camera] Constraint applied: {from: '(17, 123)', to: '(17, 120)'}
injected.js:27 [Camera] Position set to: 17 123
injected.js:27 [Camera] Centered on: 17 123
injected.js:27 [PlayerContext] Event listeners set up for player
injected.js:27 [GameContext] Game is ready - UI gate opened
injected.js:27 [GameInitializationManager] Initialization completed successfully
injected.js:27 [InventoryContext] InventoryManager received from provider props
injected.js:27 [InventoryContext] Creating new context value - dragVersion: 0 selectedItem: none
injected.js:27 [GameScreenContent] Hiding start menu - game is ready
injected.js:27 [InventoryProvider] MOUNT id=qtxrc
injected.js:27 [InventoryContext] Dev console bridge established: window.inventoryManager, window.inv
injected.js:27 [GameContext] All contexts synchronized, executing final setup...
injected.js:27 [PlayerContext] Updated player cardinal positions: (4)Â ['right(18,123): available', 'left(16,123): available', 'down(17,124): available', 'up(17,122): available']
injected.js:27 [GameContext] Initialization fully complete - all contexts ready for operations
injected.js:27 [GameControls] useEffect triggered - component mounted
injected.js:27 [GameControls] imageLoader object: ImageLoaderÂ {imageCache: Map(0), loadingPromises: Map(4), basePath: '/images/entities/'}
injected.js:27 [GameControls] Starting UI image loading...
injected.js:27 [GameControls] Electron context check: {hasWindow: true, hasElectronAPI: false, electronAPI: undefined}
injected.js:27 [useGridSlotSize] Calculated slot size: {windowSize: {â€¦}, inventoryPanelWidth: 310.5, backpackAreaWidth: 155.25, availableWidth: 107.25, availableHeight: 302,Â â€¦}
injected.js:27 [InventoryProvider] MOUNT id=zkuiw
injected.js:27 [useGridSlotSize] Calculated slot size: {windowSize: {â€¦}, inventoryPanelWidth: 310.5, backpackAreaWidth: 155.25, availableWidth: 107.25, availableHeight: 302,Â â€¦}
injected.js:27 [ImageLoader] Successfully loaded image: https://cf02b9d0-b349-444f-8fec-2435036e9438-00-2v2c3i1nnxnrg.riker.replit.dev/images/entities/player.png
injected.js:27 [ImageLoader] Successfully loaded image: https://cf02b9d0-b349-444f-8fec-2435036e9438-00-2v2c3i1nnxnrg.riker.replit.dev/images/entities/zombie.png
injected.js:27 [GameControls] Testing entity image loading first...
injected.js:27 [GameControls] Test entity image result: SUCCESS
injected.js:27 [GameControls] Loading endturn image...
injected.js:27 [ImageLoader] Loading UI image (using same logic as entity images)
injected.js:27 [ImageLoader] Successfully loaded UI image: https://cf02b9d0-b349-444f-8fec-2435036e9438-00-2v2c3i1nnxnrg.riker.replit.dev/images/UI/endturn.png
injected.js:27 [GameControls] End turn image loaded successfully: https://cf02b9d0-b349-444f-8fec-2435036e9438-00-2v2c3i1nnxnrg.riker.replit.dev/images/UI/endturn.png
injected.js:27 [GameControls] Loading loadgame image...
injected.js:27 [ImageLoader] Loading UI image (using same logic as entity images)
injected.js:27 [ImageLoader] Successfully loaded UI image: https://cf02b9d0-b349-444f-8fec-2435036e9438-00-2v2c3i1nnxnrg.riker.replit.dev/images/UI/loadgame.png
injected.js:27 [GameControls] Load game image loaded successfully: https://cf02b9d0-b349-444f-8fec-2435036e9438-00-2v2c3i1nnxnrg.riker.replit.dev/images/UI/loadgame.png